---
title:  "가상기억장치 구현 시 시스템 성능에 영향을 미치는 요소"
excerpt: "가상기억장치 구현 시 시스템 성능에 영향을 미치는 요소들을 알아보자!"

categories:
  - 운영체제
  
last_modified_at: 2021-02-12T18:35:00
---

가상기억장치를 구현할 때 페이지 크기, Locality, 워킹 셋, 페이지 부재 빈도, 프리페이징 등 다양한 요소들이 시스템 성능에 영향을 미친다. 각각에 대해서 간단하게 살펴보도록 하자.  

첫 번째로 **페이지 크기**이다. 페이징 기법을 사용하면 프로그램을 페이지 단위로 나누게 되는데, 페이지의 크기에 따라 시스템에 미치는 영향이 다르다.  

* 페이지 크기가 작을 경우  
	- 페이지 단편화가 감소되고, 한 개의 페이지를 주기억장치로 이동하는 시간이 줄어듬  
	- 불필요한 내용이 주기억장치에 적재될 확률이 적으므로 효율적인 워킹 셋을 유지할 수 있음  
	- Locality에 더 일치할 수 있기 때문에 기억장치 효율이 높아짐  
	- 페이지 정보를 갖는 페이지 맵 테이블의 크기가 커지고, 매핑 속도가 늦어짐  
	- 디스크 접근 횟수가 많아져서 전체적인 입출력 시간이 늘어남  
	
* 페이지 크기가 클 경우  
	- 페이지 정보를 갖는 페이지 맵 테이블의 크기가 작아지고, 매핑 속도가 빨라짐  
	- 디스크 접근 횟수가 줄어들어 전체적인 입출력의 효율성이 증가  
	- 페이지 단편화가 증가되고, 한 개의 페이지를 주기억장치로 이동하는 시간이 늘어남  
	- 프로세스 수행에 불필요한 내용까지도 주기억장치에 적재되어 공간 낭비 발생  
	
두 번째로 **지역성(Locality)**이다. 지역성은 **프로세스가 실행되는 동안 주기억장치를 참조할 때 일부 페이지만 집중적으로 참조하는 성질이 있다는 이론**을 의미한다.  

* 시간 지역성(Temporal Locality)  
	- 프로세스가 실행되면서 하나의 페이지를 일정 시간 동안 집중적으로 액세스하는 현상  
	- 한 번 참조한 페이지는 가까운 시간 내에 계속 참조할 가능성이 높음을 의미  
	
![가상기억장치1](https://user-images.githubusercontent.com/53072057/107730149-1a30cf00-6d36-11eb-9387-44c4d5bb4aca.JPG)  

* 공간 지역성(Spatial Locality)  
	- 프로세스가 실행 시 일정 위치의 페이지를 집중적으로 액세스하는 현상  
	- 어느 하나의 페이지를 참조하면 그 근처의 페이지를 계속 참조할 가능성이 높음을 의미  
	
![가상기억장치2](https://user-images.githubusercontent.com/53072057/107730155-1b61fc00-6d36-11eb-829d-d2a4c7618fe2.JPG)  

세 번째로 **워킹 셋(Working Set)**이다. 워킹 셋은 **프로세스가 일정 시간 동안 자주 참조하는 페이지들의 집합**을 의미한다. 자주 참조되는 워킹 셋을 주기억장치에 상주시킴으로써 페이지 부재 및 페이지 교체 현상을 줄일 수 있다.  

시간이 지남에 따라 자주 참조하는 페이지들의 집합이 변화하기 때문에 워킹 셋 또한 시간에 따라 변경된다.  

네 번째로 **페이지 부재 빈도(Page Fault Frequency, PFF)**이다. 페이지 부재는 프로세스 실행 시 참조할 페이지가 주기억장치에 없는 현상이며, 페이지 부재 빈도는 페이지 부재가 일어나는 횟수를 의미한다.  

페이지 프레임의 수를 적절하게 설정하여 페이지 부재율을 적정 수준으로 유지해야 한다.  

![가상기억장치3](https://user-images.githubusercontent.com/53072057/107730159-1bfa9280-6d36-11eb-9628-9dcd88e30e06.JPG)  

다섯 번째로 **프리페이징(Prepaging)**이다. 프리페이징은 **처음의 과도한 페이지 부재를 방지하기 위해 필요할 것 같은 모든 페이지를 한꺼번에 페이지 프레임에 적재하는 기법**이다.  

마지막으로 **스레싱(Thrashing)**이다. 스레싱은 **프로세스의 처리 시간보다 페이지 교체에 소요되는 시간이 더 많아지는 현상**을 의미한다.  

다중 프로그래밍 시스템이나 가상기억장치를 사용하는 시스템에서 하나의 프로세스 수행 과정 중 자주 페이지 부재가 발생함으로써 나타나는 현상으로, 전체 시스템의 성능이 저하된다.  

다중 프로그래밍의 정도가 높아짐에 따라 CPU의 이용률은 어느 특정 시점까지는 높아지지만, 다중 프로그래밍의 정도가 더욱 커지면 스레싱이 나타나고, CPU의 이용률은 급격히 감소하게 된다.  

![가상기억장치4](https://user-images.githubusercontent.com/53072057/107730162-1bfa9280-6d36-11eb-8244-2147f666ff66.JPG)  

* 스레싱 현상 방지 방법  
	- 다중 프로그래밍의 정도를 적정 수준으로 유지  
	- 페이지 부재 빈도를 조절하여 사용  
	- 워킹 셋을 유지  
	- 부족한 자원을 증설하고, 일부 프로세스를 중단  
	- CPU 성능에 대한 자료의 지속적 관리 및 분석으로 임계치를 예상하여 운영  

